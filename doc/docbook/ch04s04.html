<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Comparing the Implementations</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="The libiers10++ Software Package" /><link rel="up" href="ch04.html" title="Chapter 4. Results and Comparisson with Fortan Source Code" /><link rel="prev" href="ch04s03.html" title="Testing the C++ Implementation" /><link rel="next" href="ch05.html" title="Chapter 5. Updating" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Comparing the Implementations</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Results and Comparisson with Fortan Source Code</th><td width="20%" align="right"> <a accesskey="n" href="ch05.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="chap_04_04"></a>Comparing the Implementations</h2></div></div></div><p>Following the instructions presented in <a class="xref" href="ch04s02.html" title="Testing the FORTRAN Implementation">the section called “Testing the FORTRAN Implementation”</a> and <a class="xref" href="ch04s03.html" title="Testing the C++ Implementation">the section called “Testing the C++ Implementation”</a>,
                users can create and run programs (one for the C++ and one for the FORTRAN implementation) to
                check the library, using the test cases provided in the original code. Run the two programs
                to produce two seperate files (one for each implementation). We will use the utility <code class="filename">
                    cmpcvf.py</code> to compare the results obtained.</p><p><code class="filename">cmpcvf.py</code> is a python script, located in <code class="filename">py</code> folder, 
                designed to compare results from <code class="filename">test.cpp</code> and <code class="filename">test.f</code>.
                For ease, we will assume in the following that you have already created the result files, named as
                <code class="filename">test/cpp.test</code> and <code class="filename">test/fortran/fortran.test</code> for the C++
                and FORTRAN implementations respectively. Navigate to the <code class="filename">py</code> folder and execute
                the following:
                </p><pre class="screen"><code class="prompt">bash$</code> <span class="command"><strong>cmpcvf.py</strong></span> <code class="filename">test/cpp.test</code> <code class="filename">test/fortran/fortran.test</code>
                </pre><p>
                </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>Running the above, will also report debugging messages, starting with '##'. To eliminate these and
                    gain a better view for the results of interest, execute:
                    <pre class="screen"><code class="prompt">bash$</code> <span class="command"><strong>cmpcvf.py</strong></span> <code class="filename">test/cpp.test</code> <code class="filename">test/fortran/fortran.test</code> | <span class="command"><strong>grep</strong></span> -v "##"
                    </pre></div><p>
                You should see an ouput similar to this:
                <code class="computeroutput"><pre class="screen">
                        ---------------------------------------------------------------------------
                        Analysis of test results for libiers10++
                        Generated by cmpcvf.py
                        Comparisson of C++ and Fortran results per function
                        ARGUMENT     TEST-C++  TEST-FOR  FOR-C++
                        ========== : ========= ========= =========
                        Function FUNDARG
                        dl         : 7.638e-14 7.638e-14 0.000e+00              radians
                        dlp        : 9.700e-12 9.700e-12 0.000e+00              radians
                        df         : 7.772e-14 7.772e-14 0.000e+00              radians
                        dd         : 9.591e-12 9.591e-12 0.000e+00              radians
                        dom        : 2.220e-16 2.220e-16 0.000e+00              radians
                        Function FCNNUT
                        dx         : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        dy         : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        ddx        : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        ddy        : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        Function PMSDNUT2
                        pm(1)      : 1.329e-07 1.329e-07 3.553e-15      microarcseconds
                        pm(2)      : 4.442e-07 4.442e-07 1.777e-15      microarcseconds
                        Function UTLIBR (test A) 
                        ddut1      : 1.376e-08 0.000e+00 1.376e-08              mus/day
                        ddlod      : 2.363e-07 0.000e+00 2.363e-07              mus/day
                        Function UTLIBR (test B) 
                        ddut1      : 1.522e-08 0.000e+00 1.522e-08              mus/day
                        ddlod      : 4.877e-07 0.000e+00 4.877e-07              mus/day
                        Function ARG2
                        dangle(01) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(02) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(03) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(04) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(05) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(06) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(07) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(08) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(09) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(10) : 0.000e+00 0.000e+00 0.000e+00              radians
                        dangle(11) : 0.000e+00 0.000e+00 0.000e+00              radians
                        Function RG_ZONT2
                        ddut       : 4.450e-05 0.000e+00 4.450e-05              seconds
                        ddlod      : 2.858e-05 0.000e+00 2.858e-05          seconds/day
                        ddomega    : 2.412e-14 0.000e+00 2.412e-14       radians/second
                        Function ORTHO_EOP
                        deop(1)    : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        deop(2)    : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        deop(3)    : 0.000e+00 0.000e+00 0.000e+00      microarcseconds
                        ---------------------------------------------------------------------------
                        </pre></code>
                For every (main) available function, this output reports (per column):
                </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><span class="emphasis"><em>ARGUMENT</em></span>, i.e. the name of the parameter computed by the
                        function</li><li class="listitem"><span class="emphasis"><em>TEST-C++</em></span>, i.e. the difference (in absolute value) from the test case
                        provided in the original FORTRAN code with the results obtained using the C++ implementation</li><li class="listitem"><span class="emphasis"><em>TEST-FOR</em></span>, i.e. the difference (in absolute value) from the test case
                        provided in the original FORTRAN code with the results obtained using the FORTRAN implementation</li><li class="listitem"><span class="emphasis"><em>FOR-C++</em></span>, i.e. the difference (in absolute value) from comparing the FORTRAN
                        and C++ implementations</li><li class="listitem">the last column reports the units of the results</li></ol></div><p>
                Search through the results for alarming differences.
            </p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Testing the C++ Implementation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 5. Updating</td></tr></table></div></body></html>