<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Testing the FORTRAN Implementation</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"><link rel="home" href="index.html" title="The libiers10++ Software Package"><link rel="up" href="ch04.html" title="Chapter 4. Results and Comparisson with Fortan Source Code"><link rel="prev" href="pr02.html" title="Preface"><link rel="next" href="ch04s03.html" title="Testing the C++ Implementation"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Testing the FORTRAN Implementation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pr02.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Results and Comparisson with Fortan Source Code</th><td width="20%" align="right"> <a accesskey="n" href="ch04s03.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="chap_04_02"></a>Testing the FORTRAN Implementation</h2></div></div></div>
        <p>You can easily verify/test the original FORTRAN code, using the utilities provided within the package. To do this,
            you will need the FORTRAN source code, which can either be downloaded from the corresponding IERS <a class="ulink" href="http://maia.usno.navy.mil/conv2010/software.html" target="_top">website</a>,
            or use the already downloaded subroutines existing in the folder <code class="filename">test/fortran</code>. Either way, you will need to have
            the following files (in the <code class="filename">test/fortran</code> folder):
            </p><div class="orderedlist"><a name="rq_for"></a><ol class="orderedlist" type="1"><li class="listitem"> <code class="filename">ARG2.F</code></li><li class="listitem"> <code class="filename">CNMTX.F</code></li><li class="listitem"> <code class="filename">FCNNUT.F</code></li><li class="listitem"> <code class="filename">FUNDARG.F</code></li><li class="listitem"> <code class="filename">MCNMTX.F</code></li><li class="listitem"> <code class="filename">ORTHO_EOP.F</code></li><li class="listitem"> <code class="filename">PMSDNUT2.F</code></li><li class="listitem"> <code class="filename">RG_ZONT2.F</code></li><li class="listitem"> <code class="filename">UTLIBR.F</code></li><li class="listitem"> <code class="filename">APG.F</code></li><li class="listitem"> <code class="filename">GPT.F</code></li></ol></div><p>
            Follow the steps described below, to create a program testing the results of FORTRAN subroutines.</p>
        <div class="procedure"><a name="idm139658248621440"></a><p class="title"><b>Procedure 4.1. Making FORTRAN <span class="application">test.e</span></b></p><p>To create a test program for FORTRAN :</p><ol class="procedure" type="1"><li class="step">
                <p>Make sure you have all the required FORTRAN files in the <code class="filename">test/fortran</code> folder (see <a class="xref" href="ch04s02.html#rq_for">???TITLE???</a>).
                    In addition, the files <code class="filename">compile.sh</code> and <code class="filename">test.f</code> should also reside in the same folder (these files
                    come with the package).</p></li><li class="step">
                <p>Compile the FORTRAN subroutines and the <code class="filename">test.f</code> program, using <code class="filename">compile.sh</code>. 
                    To do this, you only need to execute the script:
                    </p><pre class="screen">
                        <code class="prompt">bash$</code> <span class="command"><strong>chmod</strong></span> +x <code class="filename">compile.sh</code>
                        <code class="prompt">bash$</code> <span class="command"><strong>./compile.sh</strong></span>
                    </pre><p>
                    The latter is a dead simple bash script, with a list of command for compiling the subroutines and linking to create the test program. Compilation flags
                    are not used, so if you do know what you 're doing, you can edit this file.
                    </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3>The <code class="filename">compile.sh</code> script uses gfortran to compile the FORTRAN subroutines. If you don't have this program
                        either install it, or edit the file to use a different compiler.</div><p>
                    </p></li><li class="step">
                <p>If the previous step ended successefuly, you must have a file named <code class="filename">test.e</code> in the <code class="filename">test/fortran</code> folder.
                    Go ahead and run this program. </p><pre class="screen"><code class="prompt">bash$</code> <span class="command"><strong>./test.e</strong></span> </pre><p>
                    It should report a list of results from running the test cases for every subroutine. The report should be
                    self-explanatory. You can also save the output in a file for further use (see).
                    </p><pre class="screen"><code class="prompt">bash$</code> <span class="command"><strong>./test.e</strong></span> &gt; <code class="filename">fortran.test</code></pre><p>
                    </p>
                </li></ol></div>
            <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3>In case you notice big discrepancies between the test cases and the actual results, consider
                making or reviewing the notes presented in <a class="xref" href="ch04.html#chap_04_01" title="Note on compiling the original code">the section called &#8220;Note on compiling the original code&#8221;</a></div>
        </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pr02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Preface </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Testing the C++ Implementation</td></tr></table></div></body></html>
